package org.edu.hse.oop;

import org.edu.hse.exceptions.CrampedLegException;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class WorkerExploitation {

    private final List<Worker> workers;


    public WorkerExploitation(List<Worker> workers) {
        this.workers = workers;
    }

    public WorkerExploitation(Worker... workers) {
        this.workers = Arrays.asList(workers);
    }

    public void run() {
        workers.forEach(worker -> {
            try {
                worker.walk(1000);
            } catch (CrampedLegException e) {
                throw new RuntimeException(e);
            }
            finally {
                System.out.println("Finally will be printed anyway");
            }
        });
    }

}
